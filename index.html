<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="https://lms.unindra.ac.id/media_public/get_gambar/d2llSWJaazRBRUtSZ2lFQm15V3RiZi9GV3oyd09zSGdTdXlOVjVyR0Zsc20yWkxNc3J4dUNFdi9MbENKd2ZYSg=="
      type="image/png"
    />
    <meta property="og:title" content="Perpustakaan UNINDRA | S6R" />
    <meta
      property="og:description"
      content="Perpustakaan UNINDRA adalah sebuah perpustakaan yang terletak di Universitas Indraprasta PGRI (UNINDRA). Perpustakaan ini menyediakan akses ke berbagai koleksi buku dan sumber daya informasi lainnya untuk mendukung proses pembelajaran, penelitian, dan pengembangan pengetahuan di kalangan mahasiswa, dosen, dan staf UNINDRA. "
    />
    <meta
      property="og:image"
      content="https://lms.unindra.ac.id/media_public/get_gambar/d2llSWJaazRBRUtSZ2lFQm15V3RiZi9GV3oyd09zSGdTdXlOVjVyR0Zsc20yWkxNc3J4dUNFdi9MbENKd2ZYSg=="
    />
    <meta
      property="og:url"
      content="https://pwl-s6r-perpustakaan.000webhostapp.com"
    />

    <title>Perpustakaan UNINDRA</title>
    <script src="env.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>

    <link rel="stylesheet" href="styles.css" />
  </head>

  <body
    id="dashboard"
    class="container mx-auto flex flex-col h-screen w-screen gap-5 bg-[#eeebf4] overflow-hidden scroll-smooth"
  >
    <!-- CONTAINER PDF VIEW  -->
    <div
      class="pdfContainer w-screen h-screen fixed top-0 left-0 items-center justify-center bg-black/60 hidden"
    >
      <div
        class="pdfView w-[600px] h-[700px] bg-white rounded-xl flex items-center justify-center relative"
      >
        <p
          class="pdfClose absolute -top-4 -right-4 text-lg text-white rounded-full flex items-center justify-center font-bold w-10 h-10 bg-red-500 hover:bg-red-600 cursor-pointer"
        >
          X
        </p>
      </div>
    </div>
    <!-- CONTAINER PDF VIEW END  -->

    <div
      class="flex flex-col h-auto sm:h-screen w-screen gap-5 bg-[#eeebf4] p-7 sm:p-10 pt-9"
    >
      <div
        class="w-full p-4 text-center sm:p-7 bg-white shadow-md rounded-xl gap-3 flex flex-col items-center justify-center"
      >
        <img
          src="https://lms.unindra.ac.id/media_public/get_gambar/d2llSWJaazRBRUtSZ2lFQm15V3RiZi9GV3oyd09zSGdTdXlOVjVyR0Zsc20yWkxNc3J4dUNFdi9MbENKd2ZYSg=="
          alt="logo"
          class="w-14 h-14 object-cover"
        />
        <h1 class="uppercase">Perpustakaan Universitas Indraprasta PGRI</h1>
      </div>

      <div class="w-full min-h-[525px] flex flex-col sm:flex-row gap-5">
        <!-- MENU  -->
        <div
          class="w-full sm:w-[20%] bg-white xl:h-full sm:bg-white shadow-md rounded-xl flex flex-col gap-5 items-center p-8 list-none"
        >
          <!-- <h1 class="sm:hidden">Pilih prodi</h1> -->

          <div class="menu-container" id="menu-container"></div>

          <div class="flex flex-col gap-3 w-full">
            <button
              onclick="TambahBuku()"
              id="btn-pinjam"
              class="cursor-pointer bg-green-500 hidden text-white hover:bg-green-600 w-full p-2 rounded-md text-center capitalize"
            >
              Tambah Buku
            </button>
            <button
              onclick="ButtonKeluar()"
              id="btn-keluar"
              class="cursor-pointer bg-red-500 hidden text-white hover:bg-red-600 w-full p-2 rounded-md text-center capitalize"
            >
              Keluar
            </button>
          </div>
        </div>

        <div
          class="w-full sm:overflow-y-scroll h-full p-7 bg-white shadow-md rounded-xl"
        >
          <div
            id="loader"
            class="spinner w-full h-auto sm:h-full flex flex-col"
          >
            <div class="w-full h-auto flex flex-row">
              <div class="animate-pulse flex flex-col gap-2 w-full">
                <div
                  class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                ></div>
                <div class="w-52 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
              </div>

              <div class="animate-pulse hidden sm:flex flex-col gap-2 w-full">
                <div
                  class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                ></div>
                <div class="w-52 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
              </div>

              <div class="animate-pulse hidden sm:flex flex-col gap-2 w-full">
                <div
                  class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                ></div>
                <div class="w-52 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
              </div>

              <div class="animate-pulse hidden sm:flex flex-col gap-2 w-full">
                <div
                  class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                ></div>
                <div class="w-52 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
              </div>
            </div>
          </div>

          <!-- DATA BUKU  -->
          <div
            id="data-buku"
            class="w-full h-auto flex flex-wrap gap-5 sm:gap-10"
          ></div>

          <!-- FORM TAMBAH BUKU  -->
          <div id="form-buku" class="hidden flex-col gap-3 mx-auto">
            <h1 class="text-center">FORM TAMBAH BUKU</h1>

            <form class="w-full max-w-sm flex flex-col gap-6 self-center">
              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0"
                  for="inline-full-name"
                >
                  Judul
                </label>

                <input
                  class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                  id="judul"
                  type="text"
                />
              </div>

              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0 pr-4"
                  for="inline-password"
                >
                  Penulis
                </label>

                <input
                  class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                  id="penulis"
                  type="text"
                />
              </div>

              <div class="flex w-full gap-6">
                <div class="flex flex-col gap-2">
                  <label
                    class="block text-gray-500 mb-1 md:mb-0 sm:pr-4"
                    for="inline-password"
                  >
                    Tahun Terbit
                  </label>

                  <input
                    class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                    id="tahun_terbit"
                    type="number"
                  />
                </div>

                <div class="flex flex-col gap-2">
                  <label
                    class="block text-gray-500 mb-1 md:mb-0 sm:pr-4"
                    for="inline-password"
                  >
                    Program Studi
                  </label>

                  <select
                    id="Kategori"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block sm:w-[180px] p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"
                  >
                    <option>Pilih Prodi</option>
                    <option value="FIPPS">FIPPS</option>
                    <option value="FMIPA">FMIPA</option>
                    <option value="FBS">FBS</option>
                    <option value="FTIK">FTIK</option>
                    <option value="FP">FP</option>
                  </select>
                </div>
              </div>

              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0 pr-4"
                  for="inline-password"
                >
                  Stok
                </label>

                <input
                  class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                  id="stok"
                  type="number"
                />
              </div>

              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0 pr-4"
                  for="inline-password"
                >
                  Gambar Cover
                </label>

                <label class="relative">
                  <input
                    type="file"
                    class="opacity-0 w-0 h-0 absolute z-[-1]"
                    id="image-input"
                  />

                  <span
                    id="file-name"
                    class="bg-white border-2 text-gray-700 rounded w-full py-2 px-4 cursor-pointer inline-block"
                  >
                    Pilih Gambar</span
                  >
                </label>

                <div id="image-preview" class="mt-4">
                  <!-- Image preview will be displayed here -->
                </div>
              </div>

              <div class="md:flex md:items-center">
                <div class=""></div>
                <div class="">
                  <button
                    class="shadow bg-green-500 hover:bg-green-600 focus:shadow-outline focus:outline-none text-white py-2 px-4 rounded"
                    type="submit"
                  >
                    Submit
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>
      const url = env.url;
      const login = window.localStorage.getItem("login");
      const cekDashboard = document.getElementById("dashboard");
      cekDashboard.className = login ? "flex" : "hidden";

      if (!login) {
        window.addEventListener("load", function () {
          window.location.href = `${url}/cek`;
        });
      }
    </script>

    <script src="./src/assets/menu.js"></script>
    <script src="./src/controllers/handleForm.js"></script>
  </body>
</html>
