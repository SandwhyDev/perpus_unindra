<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="https://lms.unindra.ac.id/media_public/get_gambar/d2llSWJaazRBRUtSZ2lFQm15V3RiZi9GV3oyd09zSGdTdXlOVjVyR0Zsc20yWkxNc3J4dUNFdi9MbENKd2ZYSg=="
      type="image/png"
    />
    <meta property="og:title" content="Perpustakaan UNINDRA | S6R" />
    <meta
      property="og:description"
      content="Perpustakaan UNINDRA adalah sebuah perpustakaan yang terletak di Universitas Indraprasta PGRI (UNINDRA). Perpustakaan ini menyediakan akses ke berbagai koleksi buku dan sumber daya informasi lainnya untuk mendukung proses pembelajaran, penelitian, dan pengembangan pengetahuan di kalangan mahasiswa, dosen, dan staf UNINDRA. "
    />
    <meta
      property="og:image"
      content="https://lms.unindra.ac.id/media_public/get_gambar/d2llSWJaazRBRUtSZ2lFQm15V3RiZi9GV3oyd09zSGdTdXlOVjVyR0Zsc20yWkxNc3J4dUNFdi9MbENKd2ZYSg=="
    />
    <meta
      property="og:url"
      content="https://pwl-s6r-perpustakaan.000webhostapp.com"
    />

    <title>Perpustakaan UNINDRA</title>
    <script src="env.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>

    <script>
      const mahasiswa = window.localStorage.getItem("mahasiswa");
    </script>

    <link rel="stylesheet" href="styles.css" />
  </head>

  <body
    id="dashboard"
    class="container mx-auto flex flex-col h-screen w-screen gap-5 bg-[#eeebf4] overflow-hidden scroll-smooth"
  >
    <!-- CONTAINER PDF VIEW  -->
    <div
      class="pdfContainer w-screen h-screen fixed top-0 left-0 items-center justify-center bg-black/60 hidden"
    >
      <div
        class="pdfView w-[345px] h-[300px] sm:w-[600px] sm:h-[700px] bg-white rounded-xl flex items-center justify-center relative"
      >
        <p
          class="pdfClose absolute -top-4 -right-4 text-lg text-white rounded-full flex items-center justify-center font-bold w-10 h-10 bg-red-500 hover:bg-red-600 cursor-pointer"
        >
          X
        </p>
      </div>
    </div>
    <!-- CONTAINER PDF VIEW END  -->

    <!-- CONTAINER EDIT BUKU  -->
    <div
      id="form_edit"
      class="w-screen h-screen fixed top-0 left-0 items-center justify-center bg-black/60 hidden"
    >
      <div
        class="bg-white w-[21rem] lg:w-[30rem] max-h-[30rem] overflow-y-scroll overflow-x-hidden p-5 rounded-xl flex flex-col gap-5"
      >
        <h1 class="text-center">EDIT BUKU</h1>

        <form class="w-full max-w-sm flex flex-col gap-6 self-center">
          <div class="flex flex-col gap-2">
            <label
              class="block text-gray-500 mb-1 md:mb-0"
              for="inline-full-name"
            >
              Judul
            </label>

            <input
              class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
              id="judul"
              type="text"
            />
          </div>

          <div class="flex flex-col gap-2">
            <label
              class="block text-gray-500 mb-1 md:mb-0 pr-4"
              for="inline-password"
            >
              Penulis
            </label>

            <input
              class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
              id="penulis"
              type="text"
            />
          </div>

          <!-- TAHUN TERBIT DAN PROGRAM STUDIO -->
          <div class="flex w-full gap-6">
            <div class="flex flex-col gap-2">
              <label
                class="block text-gray-500 mb-1 md:mb-0 sm:pr-4"
                for="inline-password"
              >
                Tahun Terbit
              </label>

              <input
                class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                id="tahun_terbit"
                type="number"
              />
            </div>

            <div class="flex flex-col gap-2">
              <label
                class="block text-gray-500 mb-1 md:mb-0 sm:pr-4"
                for="inline-password"
              >
                Program Studi
              </label>

              <select
                id="Kategori"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block sm:w-[180px] p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"
              >
                <option>Pilih Prodi</option>
                <option value="FIPPS">FIPPS</option>
                <option value="FMIPA">FMIPA</option>
                <option value="FBS">FBS</option>
                <option value="FTIK">FTIK</option>
                <option value="FP">FP</option>
              </select>
            </div>
          </div>
          <!-- END TAHUN TERBIT DAN PROGRAM STUDIO  -->

          <div class="flex flex-col gap-2">
            <label
              class="block text-gray-500 mb-1 md:mb-0 pr-4"
              for="inline-password"
            >
              Stok
            </label>

            <input
              class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
              id="stok"
              type="number"
            />
          </div>

          <div class="flex flex-col gap-2">
            <label
              class="block text-gray-500 mb-1 md:mb-0 pr-4"
              for="inline-password"
            >
              Gambar Cover
            </label>

            <label class="relative">
              <input
                type="file"
                class="opacity-0 w-0 h-0 absolute z-[-1]"
                id="image-edit-input"
              />

              <span
                id="file-name"
                class="bg-white border-2 text-gray-700 rounded w-full py-2 px-4 cursor-pointer inline-block"
              >
                Pilih Gambar</span
              >
            </label>

            <div id="image-preview-1" class="mt-4">
              <!-- Image preview will be displayed here -->
            </div>
          </div>

          <div class="flex items-center gap-5">
            <div class="">
              <div
                id="batal-edit"
                class="batal_edit shadow bg-red-500 hover:bg-red-600 focus:shadow-outline focus:outline-none text-white py-2 px-4 cursor-pointer rounded"
              >
                Batal
              </div>
            </div>

            <div class="">
              <div
                id="submit_edit"
                class="shadow bg-green-500 hover:bg-green-600 focus:shadow-outline focus:outline-none text-white py-2 px-4 cursor-pointer rounded"
                type="submit"
              >
                <p id="text-submit">Submit</p>

                <div role="status" id="loader-edit" class="hidden" >
                  <svg
                    aria-hidden="true"
                    class="w-5 h-5  text-gray-200 animate-spin fill-blue-600 ""
                    viewBox="0 0 100 101"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
                      fill="currentColor"
                    />
                    <path
                      d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
                      fill="currentFill"
                    />
                  </svg>
                  <span class="sr-only">Loading...</span>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- CONTAINER EDIT BUKU END  -->

    <div
      class="flex flex-col h-auto sm:h-screen w-screen gap-5 bg-[#eeebf4] p-7 sm:p-10 pt-9"
    >
      <div
        class="w-full p-4 text-center sm:p-7 bg-white shadow-md rounded-xl gap-3 flex flex-col items-center justify-center"
      >
        <img
          src="https://lms.unindra.ac.id/media_public/get_gambar/d2llSWJaazRBRUtSZ2lFQm15V3RiZi9GV3oyd09zSGdTdXlOVjVyR0Zsc20yWkxNc3J4dUNFdi9MbENKd2ZYSg=="
          alt="logo"
          class="w-14 h-14 object-cover"
        />
        <h1 class="uppercase">Perpustakaan Universitas Indraprasta PGRI</h1>
      </div>

      <div class="w-full min-h-[525px] flex flex-col sm:flex-row gap-5">
        <!-- MENU  -->
        <div
          class="w-full sm:w-[20%] bg-white xl:h-full sm:bg-white shadow-md rounded-xl flex flex-col gap-5 items-center p-8 list-none"
        >
          <!-- <h1 class="sm:hidden">Pilih prodi</h1> -->

          <div class="menu-container" id="menu-container"></div>

          <div class="flex flex-col gap-3 w-full">
            <button
              onclick="TambahBuku()"
              id="btn-pinjam"
              class="cursor-pointer bg-green-500 hidden text-white hover:bg-green-600 w-full p-2 rounded-md text-center capitalize"
            >
              Tambah Buku
            </button>
            <button
              onclick="ButtonKeluar()"
              id="btn-keluar"
              class="cursor-pointer bg-red-500 hidden text-white hover:bg-red-600 w-full p-2 rounded-md text-center capitalize"
            >
              Keluar
            </button>
          </div>
        </div>

        <div
          class="w-full sm:overflow-y-scroll h-full p-7 bg-white shadow-md rounded-xl"
        >
          <div
            id="loader"
            class="spinner w-full h-auto sm:h-full flex flex-col"
          >
            <div class="w-full h-auto flex flex-row">
              <div
                class="animate-pulse flex flex-col gap-2 w-full items-center sm:items-start"
              >
                <div class="w-60 flex flex-col gap-2">
                  <div
                    class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                  ></div>
                  <div class="w-52 h-12 bg-gray-500 rounded-xl"></div>
                  <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                  <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                  <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                  <div
                    id="loader-pinjam"
                    class="w-60 h-10 bg-gray-500 rounded-md mt-1"
                  ></div>
                </div>
              </div>

              <div class="animate-pulse hidden sm:flex flex-col gap-2 w-full">
                <div
                  class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                ></div>
                <div class="w-52 h-12 bg-gray-500 rounded-xl"></div>
                <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                <div
                  id="loader-pinjam2"
                  class="w-60 h-10 bg-gray-500 rounded-md mt-1"
                ></div>
              </div>

              <div class="animate-pulse hidden sm:flex flex-col gap-2 w-full">
                <div
                  class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                ></div>
                <div class="w-52 h-12 bg-gray-500 rounded-xl"></div>
                <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                <div
                  id="loader-pinjam3"
                  class="w-60 h-10 bg-gray-500 rounded-md mt-1"
                ></div>
              </div>

              <div class="animate-pulse hidden sm:flex flex-col gap-2 w-full">
                <div
                  class="w-60 h-72 bg-gray-500 rounded-t-2xl rounded-b-xl"
                ></div>
                <div class="w-52 h-12 bg-gray-500 rounded-xl"></div>
                <div class="w-36 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-20 h-3 bg-gray-500 rounded-xl"></div>
                <div class="w-60 h-10 bg-gray-500 rounded-md"></div>
                <div
                  id="loader-pinjam4"
                  class="w-60 h-10 bg-gray-500 rounded-md mt-1"
                ></div>
              </div>
            </div>
          </div>

          <!-- DATA BUKU  -->
          <div
            id="data-buku"
            class="w-full h-auto justify-center sm:justify-normal flex flex-wrap gap-10 sm:gap-10"
          ></div>

          <!-- FORM TAMBAH BUKU  -->
          <div id="form-buku" class="hidden flex-col gap-3 mx-auto">
            <h1 class="text-center">FORM TAMBAH BUKU</h1>

            <form class="w-full max-w-sm flex flex-col gap-6 self-center">
              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0"
                  for="inline-full-name"
                >
                  Judul
                </label>

                <input
                  class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                  id="judul1"
                  type="text"
                />
              </div>

              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0 pr-4"
                  for="inline-password"
                >
                  Penulis
                </label>

                <input
                  class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                  id="penulis1"
                  type="text"
                />
              </div>

              <div class="flex w-full gap-6">
                <div class="flex flex-col gap-2">
                  <label
                    class="block text-gray-500 mb-1 md:mb-0 sm:pr-4"
                    for="inline-password"
                  >
                    Tahun Terbit
                  </label>

                  <input
                    class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                    id="tahun_terbit1"
                    type="number"
                  />
                </div>

                <div class="flex flex-col gap-2">
                  <label
                    class="block text-gray-500 mb-1 md:mb-0 sm:pr-4"
                    for="inline-password"
                  >
                    Program Studi
                  </label>

                  <select
                    id="Kategori1"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block sm:w-[180px] p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"
                  >
                    <option>Pilih Prodi</option>
                    <option value="FIPPS">FIPPS</option>
                    <option value="FMIPA">FMIPA</option>
                    <option value="FBS">FBS</option>
                    <option value="FTIK">FTIK</option>
                    <option value="FP">FP</option>
                  </select>
                </div>
              </div>

              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0 pr-4"
                  for="inline-password"
                >
                  Stok
                </label>

                <input
                  class="bg-white appearance-none border-2 rounded w-full py-2 px-2 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500"
                  id="stok1"
                  type="number"
                />
              </div>

              <div class="flex flex-col gap-2">
                <label
                  class="block text-gray-500 mb-1 md:mb-0 pr-4"
                  for="inline-password"
                >
                  Gambar Cover
                </label>

                <label class="relative">
                  <input
                    type="file"
                    class="opacity-0 w-0 h-0 absolute z-[-1]"
                    id="image-input"
                  />

                  <span
                    id="file-name-1"
                    class="bg-white border-2 text-gray-700 rounded w-full py-2 px-4 cursor-pointer inline-block"
                  >
                    Pilih Gambar</span
                  >
                </label>

                <div id="image-preview" class="mt-4">
                  <!-- Image preview will be displayed here -->
                </div>
              </div>

              <div class="md:flex md:items-center">
                <div class=""></div>
                <div class="">
                  <div
                    id="submit_tambah_buku"
                    class="cursor-pointer shadow bg-green-500 hover:bg-green-600 focus:shadow-outline focus:outline-none text-white py-2 px-4 rounded"
                    type="submit"
                  >
                    Submit
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>
      if (mahasiswa) {
        const loadPinjam = document.getElementById("loader-pinjam");
        const loadPinjam2 = document.getElementById("loader-pinjam2");
        const loadPinjam3 = document.getElementById("loader-pinjam3");
        const loadPinjam4 = document.getElementById("loader-pinjam4");
        const dataBuku = document.getElementById("data-buku");
        loadPinjam.className = "hidden";
        loadPinjam2.className = "hidden";
        loadPinjam3.className = "hidden";
        loadPinjam4.className = "hidden";

        dataBuku.className =
          "w-full h-auto justify-center sm:justify-normal flex flex-wrap sm:gap-10";
      }
      const url = env.url;
      const login = window.localStorage.getItem("login");
      const cekDashboard = document.getElementById("dashboard");
      cekDashboard.className = login ? "flex" : "hidden";

      if (!login) {
        window.addEventListener("load", function () {
          window.location.href = `${url}/cek`;
        });
      }
    </script>

    <script src="./src/assets/menu.js"></script>
    <script src="./src/controllers/handleForm.js"></script>
  </body>
</html>
